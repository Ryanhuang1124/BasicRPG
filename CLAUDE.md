# BasicRPG 開発ルール

## 言語使用規則

### 1. ユーザーとの対話
- **中国語で対話する**
- ユーザーへの説明、質問、提案はすべて中国語で行う

### 2. コード内のコメント
- **すべて日本語で記述する**
- クラス、メソッド、フィールドの説明は日本語
- TODO、FIXMEなども日本語

### 3. UI/ゲーム内テキスト
- **すべて日本語で表示する**
- メニュー、メッセージ、ボタンなどすべて日本語
- エラーメッセージも日本語

### 4. 変数名・メソッド名
- **英語を使用する**
- キャメルケース: `playerName`, `takeDamage()`など

---

## 例

```java
/**
 * プレイヤークラス
 * ゲーム内のプレイヤーキャラクターを表現する
 */
public class Player {
    private int hp;  // 体力値

    /**
     * ダメージを受ける
     * @param damage 受けるダメージ量
     */
    public void takeDamage(int damage) {
        this.hp -= damage;
        System.out.println("ダメージを受けた！"); // UI表示も日本語
    }
}
```

---

## プロジェクト概要

- **ゲームタイプ**: ターン制RPG
- **UI**: Swing
- **デザインパターン**:
  - State Pattern (MapState, BattleState, DialogState)
  - Singleton Pattern (GameManager)
  - Factory Pattern (EnemyFactory)

---

# プロジェクト進捗記録

## 実装済み機能

### 1. ゲームアーキテクチャ
- **State Pattern**: GameState インターフェースを実装
  - MapState: マップ探索
  - BattleState: 戦闘画面
  - DialogState: 会話システム
- **Singleton Pattern**: GameManager でゲーム状態を一元管理
- **Factory Pattern**: EnemyFactory で敵キャラクター生成

### 2. キャラクタークラス階層

```
Character (抽象基底クラス)
├── Human (抽象クラス) - 人間系、対話機能あり
│   ├── Hero - プレイヤーキャラクター
│   ├── Wizard - 魔法使い（仲間）
│   ├── King - 王様（隠しボス）
│   ├── Princess - お姫様
│   └── Hermit - 隠士（隠しNPC）
│
└── Enemy (抽象クラス) - 敵、経験値報酬あり
    ├── Slime - スライム（弱）
    ├── Goblin - ゴブリン（中）
    ├── Werewolf - 狼男（強）
    └── DemonKing - 魔王（ボス）
```

**重要な設計**:
- **Character**: HP、攻撃力、ダメージ処理の共通機能
- **Human**: 対話メッセージ機能（getDialogMessages）
- **Enemy**: 経験値報酬システム（getExpReward）
- **King**: Humanを継承するため経験値を与えない
- **BattleState**: Character型を受け入れる（Enemy + Kingの両方と戦闘可能）

#### 基底クラス
- **Character**: すべてのキャラクターの基底クラス
  - HP管理、攻撃力、ダメージ処理

- **Human**: Characterを継承、人間系キャラクター
  - 対話メッセージ機能

- **Enemy**: Characterを継承、敵キャラクター
  - 経験値報酬システム

#### プレイヤーキャラクター

**継承階層**:
```
Hero (基底クラス)
├── SuperHero (魔法使いルート)
└── TrueHero (ソロルート)
```

- **Hero** (Humanを継承) - 基底クラス
  - 基本ステータス: HP 100, 攻撃力 20
  - マップ座標管理 (x, y)
  - 倒した敵の記録 (defeatedEnemies)
  - **レベルシステム**:
    - レベル、経験値、必要経験値
    - レベルアップ条件: level × 3 EXP
    - レベルアップ時: HP全回復、経験値リセット
  - **操作**:
    - `sleep()`: HPを100%回復
    - `move(dx, dy)`: マップ移動
    - `gainExp(amount)`: 経験値獲得

- **SuperHero** (Heroを継承) - 簡単ルート
  - 魔法使いと協力してパワーアップ
  - **ステータス**: HP 100, 攻撃力 40 (×2)
  - **専用能力**: 飛行システム
    - `isFlying` フラグで管理
    - 飛行中: 攻撃力半減、敵の攻撃を回避
    - `fly()`: 空を飛ぶ
    - `land()`: 着陸
  - **取得条件**: 魔法使いを仲間にする（3種敵撃破 + 20%確率）

- **TrueHero** (Heroを継承) - 困難ルート
  - 独力で成長し、転生を繰り返す究極の戦士
  - **初回転職時**:
    - レベル1にリセット
    - 基礎HP 100、基礎攻撃力 20 を継承
  - **転生システム** (無限ループ可能):
    - レベル10到達で転生可能
    - 転生時: レベル1にリセット、成長した能力を継承
    - 転生回数: `rebirthCount`で管理
  - **パッシブ能力**: 複利成長
    - 計算式: `能力値 = 基礎値 × 1.1^(レベル-1)`
    - レベルアップ毎に攻撃力・HP上限が10%増加
  - **職業名表示**:
    - 初回: "真勇者"
    - 転生後: "真勇者★1", "真勇者★2", ...
  - **取得条件**: 隠士に話しかけて転職（Lv10 + 魔王撃破後）
  - **注意**: SuperHeroからTrueHeroへの転職は不可（ルート固定）

- **Wizard** (Humanを継承)
  - HP: 50, 攻撃力: 30
  - 勇者の仲間として2対1の戦闘をサポート

#### NPCキャラクター
- **King** (Humanを継承)
  - 王様、クエスト情報を提供
  - **究極のラスボス**: HP 1,000,000、攻撃力 1,000,000
  - `identityRevealed`: 正体バレフラグ
  - `revealIdentity()`: 正体暴露メッセージ
  - **特殊**: 洗脳されたお姫様と一緒に戦う（2対1）
  - **注意**: 経験値を与えない（Human系）

- **Princess** (Humanを継承)
  - お姫様（HP 80、攻撃力 50）
  - **魔王戦**: スーパー勇者を応援（味方）
    - `cheer(Hero)`: スーパー勇者の攻撃力を2倍にする
    - 30%の確率で自動応援
  - **王様戦**: 洗脳されて王様を助ける（敵）
    - `supportKing()`: 王様の攻撃力を2倍にする応援
    - 30%の確率で発動
    - **最大ダメージ**: 1,000,000 × 2 = **2,000,000**
    - `getDespairMessage()`: 悲痛なメッセージ
  - `marry()`: 結婚エンディング

- **Hermit** (Humanを継承) (NEW!)
  - 隠士、Lv10以上 + 魔王撃破後に出現
  - 位置: マップ右上角 (14, 0)
  - **機能**:
    - `performJobChange()`: 純Heroを真勇者に転職させる
    - `performRebirth()`: 真勇者を転生させる（Lv10以上）
    - `getJobChangeMessages()`: 初回転職メッセージ
    - `getRebirthMessages()`: 転生メッセージ
  - **対話内容**:
    - SuperHero: 転職拒否（別ルート選択済み）
    - Hero (Lv10+): 真勇者転職提案
    - TrueHero (Lv10未満): 激励メッセージ
    - TrueHero (Lv10+): 転生提案
  - 真実の情報提供: 王様の正体を明かす

#### 敵キャラクター
- **Enemy**: Character を継承、敵の基底クラス
  - 経験値報酬システム (expReward)

- **Slime** (弱): HP 30, 攻撃力 10, EXP 1
- **Goblin** (中): HP 50, 攻撃力 20, EXP 2
- **Werewolf** (強): HP 60, 攻撃力 40, EXP 5
- **DemonKing** (最強): HP 150, 攻撃力 100, EXP 50

### 3. マップシステム (15×12)

#### マップ構成
- **Y座標 0-3**: 安全地帯 (道路のみ、敵との遭遇なし)
- **Y座標 4-11**: 草地 (敵との遭遇エリア、30%確率)

#### NPC配置
- 魔法使い: (2, 0)
- 王様: (7, 0)
- お姫様: (8, 0) - 魔王撃破後のみ出現

#### 操作方法
- 方向キー/WASD: 移動
- Eキー: NPCに話しかける

### 4. 戦闘システム

#### ターン制バトル
- プレイヤーターン → 敵ターン → 魔法使いターン (仲間がいる場合)
- ダメージ計算: 0 ～ maxAttack のランダム値

#### 戦闘オプション (動的メニュー)
1. **攻撃**: 敵を攻撃
2. **眠る**: HPを100%回復 (常に表示)
3. **飛ぶ**: 空中に飛ぶ (スーパー勇者のみ、地上時)
4. **降りる**: 着陸する (スーパー勇者のみ、飛行中)

#### 経験値システム
- 敵撃破時に経験値獲得
- 必要経験値に達するとレベルアップ
- レベルアップ効果: HP全回復

#### 特殊演出
- **お姫様の応援** (魔王戦のみ):
  - 30%の確率で発動
  - スーパー勇者の攻撃力を2倍にする

### 5. ゲーム進行フロー

#### 序盤（共通）
1. 王様と会話 → クエスト受注
2. 草地で敵と戦闘、経験値獲得
3. スライム、ゴブリン、狼男を各1体ずつ撃破

#### 分岐点：職業選択

**ルートA：簡単ルート（SuperHero）**
4A. 3種類の敵撃破後、魔法使いに話しかける
5A. 20%の確率で魔法使いが仲間に加わる
6A. SuperHeroに変身 (攻撃力2倍、飛行能力獲得)
7A. 魔王と戦闘 (お姫様の応援あり)
8A. 魔王撃破後、お姫様と会話して通常エンディング

**ルートB：困難ルート（TrueHero）**
4B. 魔法使いを仲間にせず、独力でレベル10まで修行
5B. レベル10 + 魔王撃破後、マップ右上角(14, 0)に隠士が出現
6B. 隠士に話しかけて転職（TrueHeroになる）
   - **重要**: レベル1にリセット、基礎能力継承
   - パッシブ獲得: レベル毎に能力10%増加（複利）
7B. 隠士から真実を聞く：王様が魔王の主人で黒幕
8B. 再度レベル10まで成長（より強力になる）
9B. 王様に話しかけて真実を告げる（Y/Nで選択）
10B. 邪悪な王と最終決戦（HP 200、攻撃力 60）
11B. 邪悪な王を倒す
12B. お姫様に話しかけて結婚を承諾（Y/Nで選択）
13B. 真エンディング達成！

#### 転生ループ（TrueHero専用）
- レベル10到達後、隠士に話しかけて転生可能
- 転生時: レベル1にリセット、成長した能力を継承
- 無限に強化可能（転生回数制限なし）
- 職業名: "真勇者★1", "真勇者★2", ...

**転生の数値例**:
- 初回転職: Lv1, HP 100, 攻撃力 20
- Lv10到達: Lv10, HP 234, 攻撃力 47 (1.1^9倍)
- 1回目転生: Lv1, HP 234, 攻撃力 47 (継承)
- 再びLv10: Lv10, HP 548, 攻撃力 110 (さらに成長)
- 2回目転生: Lv1, HP 548, 攻撃力 110 (継承)
- 以降無限ループ可能...

### 6. UI表示

#### マップ画面
- マップグリッド表示
- プレイヤー位置 (青い四角)
- NPC位置 (色付き円 + 文字)
  - 魔法使い: 紫色 「魔」
  - 王様: 金色 「王」
  - お姫様: ピンク 「姫」(魔王撃破後のみ)
  - 隠士: 茶色 「隠」(Lv10以上 + 魔王撃破後のみ)
- ステータス表示:
  - レベル、HP、最大HP
  - 経験値、必要経験値
- 操作ヒント
- NPC接近時の会話ヒント

#### 戦闘画面
- メッセージボックス (高さ100px)
- キャラクター名とHP表示
- HPバー (赤色)
- 経験値バー (シアン色)
- 戦闘オプションメニュー (動的)
- ターン経過の自動アニメーション

## 最近の実装内容

### 2025-11-19 (究極の難易度調整)

#### 邪悪な王の超強化
- **HP**: 200 → **1,000,000**
- **攻撃力**: 60 → **1,000,000**
- 転生システムを前提とした究極の難易度

#### お姫様の二面性システム
- **魔王戦**: 勇者を応援（味方）
  - SuperHeroの攻撃力を2倍にする
  - 30%の確率で発動
- **王様戦**: 洗脳されて王様を助ける（敵）
  - 王様の攻撃力を2倍にする応援
  - 30%の確率で発動
  - **最大ダメージ**: 1,000,000 × 2 = **2,000,000**
  - 悲痛なメッセージを表示
  - BattleStateに自動参戦処理追加

#### 絶望感の演出
- 王様戦開始時に洗脳メッセージ表示
- 30%確率で洗脳応援発動
- 応援時の悲痛な台詞:
  - "助けて...王様..."
  - "勇者を...倒して..."
  - "私を...守って..."
- **最大火力**: 2,000,000 ダメージ/ターン
- **攻略法**: 転生を何度も繰り返して超越的な力を得るしかない

---

### 2025-11-19 (転生システム実装)

#### TrueHero転生システム
- **無限転生機能**:
  - レベル10到達で転生可能
  - 転生時: レベル1にリセット、成長した能力を基礎値として継承
  - 転生回数制限なし（無限ループ可能）
- **パッシブ成長**:
  - 計算式: `能力値 = 基礎値 × 1.1^(レベル-1)`
  - レベルアップ毎に攻撃力・HP上限が10%増加（複利）
- **転生回数表示**:
  - `rebirthCount` フィールドで管理
  - 職業名: "真勇者" → "真勇者★1" → "真勇者★2" ...

#### TrueHeroクラス拡張
- 新規フィールド:
  - `rebirthCount`: 転生回数
  - `baseMaxHp`: 基礎最大HP（転生時に継承）
  - `baseMaxAttack`: 基礎攻撃力（転生時に継承）
- 新規メソッド:
  - `TrueHero(Hero source)`: 初回転職コンストラクタ
  - `TrueHero(TrueHero source)`: 転生コンストラクタ
  - `recalculateStats()`: レベルに応じた能力値再計算
  - `canRebirth()`: 転生可能かチェック
  - `getRebirthCount()`: 転生回数取得
- オーバーライド:
  - `gainExp()`: レベルアップ後に能力値再計算

#### Hermitクラス拡張
- 転生機能追加:
  - `performRebirth(TrueHero)`: 真勇者を転生させる
  - `getRebirthMessages()`: 転生メッセージ取得
- 対話内容の拡張:
  - TrueHero (Lv10未満): 激励メッセージ
  - TrueHero (Lv10以上): 転生提案

#### DialogState拡張
- 転生処理追加:
  - "（転生しますか？ Y/N）" 選択肢対応
  - TrueHero転生時のオブジェクト置き換え処理

#### 転生の数値例
```
初回転職: Lv1, HP 100, 攻撃力 20 (基礎値継承)
Lv10到達: HP 234, 攻撃力 47 (1.1^9 ≈ 2.36倍)
1回転生後: Lv1, HP 234, 攻撃力 47 (継承)
再びLv10: HP 548, 攻撃力 110 (さらに2.36倍)
2回転生後: Lv1, HP 548, 攻撃力 110 (継承)
以降無限ループ...
```

---

### 2025-11-19 (隠しルート追加)

#### 新規クラス
- **Hermit** (隠士): レベル10到達後に出現する謎のNPC
  - 転職システム: 勇者 → 真勇者
  - 真実の情報提供: 王様の正体を明かす

- **KingRevealState**: 王様の正体暴露専用の状態クラス
  - 正体暴露メッセージ表示
  - 戦闘への移行処理

#### 既存クラス拡張

##### Hero
- 統一職業システム追加:
  - `jobTitle`: 職業名文字列管理（勇者 → スーパー勇者 → 真勇者）
  - `upgradeToSuperHero()`: スーパー勇者昇格（攻撃力×2）
  - `performJobChange()`: 真勇者転職（攻撃力×5、HP 1000）
  - `isSuperHero()`: スーパー勇者以上判定
  - `hasJobChanged()`: 真勇者判定
  - `getJobTitle()`: 現在の職業名取得

##### King
- 戦闘可能なボスキャラクターに変更:
  - HP: 200、攻撃力: 60 (真のラスボス)
  - `identityRevealed`: 正体バレフラグ
  - `revealIdentity()`: 正体暴露メッセージ
  - `isIdentityRevealed()`: 正体確認
  - **注意**: Kingは経験値を与えない（Human系）

##### Princess
- 結婚エンディング追加:
  - `marry()`: 結婚エンディングメッセージ
  - 邪悪な王撃破後の特別な対話

##### GameManager
- ゲーム進行フラグ追加:
  - `demonKingDefeated`: 魔王撃破フラグ
  - `evilKingDefeated`: 邪悪な王撃破フラグ
  - `gameCleared`: ゲームクリアフラグ（結婚エンディング）

##### MapState
- 隠士の出現条件実装:
  - レベル10以上 + 魔王撃破後
  - 位置: (14, 0) マップ右上角
  - NPC対話処理の拡張（King、Princess、Hermit）

##### DialogState
- 選択肢システム追加:
  - Y/Nキー入力処理
  - 転職選択処理（Hermit）
  - 真実告発選択処理（King）
  - 結婚選択処理（Princess）

##### BattleState
- Character型に対応（Enemy + King）:
  - 経験値はEnemyのみ付与
  - King撃破時の特別メッセージ
  - 魔王/邪悪な王撃破フラグ設定

#### ゲームフロー
- 通常エンディング: 魔王撃破 → お姫様と会話
- 真エンディング: 魔王撃破 → Lv10まで修行 → 隠士と会話 → 転職 → 王様撃破 → お姫様と結婚

#### 職業ステータス比較表

| 職業 | 初期HP | 初期攻撃力 | 成長方式 | 特殊能力 | 転職条件 |
|------|--------|------------|----------|----------|----------|
| 勇者 | 100 | 20 | 固定 | なし | 初期状態 |
| スーパー勇者 | 100 | 40 | 固定 | 飛行 | 魔法使い加入 |
| 真勇者 | 100 | 20 | **複利成長** | 転生、真実を知る | Lv10 + 隠士転職 |

**真勇者の成長例**:
- Lv1: HP 100, 攻撃力 20
- Lv5: HP 146, 攻撃力 29
- Lv10: HP 234, 攻撃力 47
- **転生後 Lv1**: HP 234, 攻撃力 47 (継承)
- **転生後 Lv10**: HP 548, 攻撃力 110
- **2回転生後**: さらに強力に...

**ボス比較**:
- 魔王: HP 150, 攻撃力 100（お姫様が応援）
- **邪悪な王**: HP 1,000,000、攻撃力 1,000,000
- **洗脳お姫様**: 30%確率で王様の攻撃を2倍に増幅
- **最大火力**:
  - 通常時: 1,000,000 ダメージ
  - **応援時（30%）**: **2,000,000 ダメージ**
- **攻略必要**: 何度も転生を繰り返して超越的な力を得るしかない！

---

## 以前の実装内容 (2025-11-19)

### Heroクラス拡張
- `sleep()`, `fly()`, `land()` メソッド追加
- スーパー勇者システム (状態フラグで管理)
- 経験値・レベルシステム実装
- 飛行中の攻撃力半減と回避能力

### 敵クラス更新
- 全敵キャラクターに経験値報酬追加
- Enemy基底クラスにexpRewardフィールド追加

### Princessクラス実装
- `cheer()` メソッド追加
- 魔王戦での自動応援 (30%確率)

### BattleState大幅改修
- 動的オプションメニュー (スーパー勇者の状態に応じて変化)
- 経験値獲得処理
- 経験値バー表示
- お姫様応援システム
- UIスペーシング調整:
  - メッセージボックス高さ: 80px → 100px
  - HPバーとEXPバーの間隔を拡大

### MapState更新
- スーパー勇者への自動変身処理 (魔法使い加入時)
- レベル・経験値表示追加

## ビルド・実行方法

### コンパイル（両バージョン共通）
```bash
cd "C:\Users\ko8516\Desktop\VSCode Projects\BasicRPG"
javac -encoding UTF-8 -d bin src/com/rpg/*.java src/com/rpg/gui/*.java src/com/rpg/cui/*.java
```

### GUI版実行 (PowerShell)
```powershell
java "-Dfile.encoding=UTF-8" -cp bin com.rpg.gui.GameWindow
```

### GUI版実行 (CMD/Bash)
```bash
java -Dfile.encoding=UTF-8 -cp bin com.rpg.gui.GameWindow
```

### CUI版（テキスト版）実行 (PowerShell)
```powershell
java "-Dfile.encoding=UTF-8" -cp bin com.rpg.cui.TextGame
```

### CUI版（テキスト版）実行 (CMD/Bash)
```bash
java -Dfile.encoding=UTF-8 -cp bin com.rpg.cui.TextGame
```

## ファイル構成

```
BasicRPG/
├── src/com/rpg/
│   │   # === 共通クラス ===
│   ├── GameManager.java         # ゲーム状態管理 (Singleton) - 共通
│   ├── Character.java           # キャラクター基底クラス
│   ├── Human.java               # 人間系基底クラス
│   ├── Hero.java                # 勇者クラス
│   ├── SuperHero.java           # スーパー勇者クラス
│   ├── TrueHero.java            # 真勇者クラス
│   ├── Wizard.java              # 魔法使いクラス
│   ├── King.java                # 王様クラス（隠しボス）
│   ├── Princess.java            # お姫様クラス
│   ├── Hermit.java              # 隠士クラス
│   ├── Enemy.java               # 敵基底クラス
│   ├── Slime.java               # スライムクラス
│   ├── Goblin.java              # ゴブリンクラス
│   ├── Werewolf.java            # 狼男クラス
│   ├── DemonKing.java           # 魔王クラス
│   └── EnemyFactory.java        # 敵生成ファクトリー
│   │
│   ├── gui/                     # === GUI版専用 ===
│   │   ├── GameWindow.java      # GUI版メインクラス
│   │   ├── GamePanel.java       # 描画パネル
│   │   ├── GUIManager.java      # GUI状態管理 (Singleton)
│   │   ├── GameState.java       # State インターフェース
│   │   ├── MapState.java        # マップ探索状態
│   │   ├── BattleState.java     # 戦闘状態
│   │   ├── DialogState.java     # 会話状態
│   │   ├── KingRevealState.java # 王様正体暴露状態
│   │   ├── TrueEndingState.java # 真エンディング
│   │   └── TrueTrueEndingState.java # 真の真エンディング
│   │
│   └── cui/                     # === CUI版（テキスト版）専用 ===
│       └── TextGame.java        # CUI版メインクラス
│
├── bin/                         # コンパイル済みクラスファイル
└── CLAUDE.md                    # このファイル
```

## バージョン違い

| 機能 | GUI版 | CUI版（テキスト版） |
|------|-------|---------------------|
| 操作 | 方向キー/マウス | 数字入力 |
| マップ移動 | 15×12 グリッド | 地点選択メニュー |
| 敵遭遇 | 草地で30%確率 | 探索で30%確率 |
| 戦闘 | グラフィカルUI | テキストメニュー |
| 魔法使い加入 | 20%確率 | **100%確定** |
| NPC出現 | 座標移動で会う | メニューで選択 |

## 重要な設計決定

### 職業システムの設計（継承パターン採用）
- **設計方針**: 継承を使用してルート分岐を実現
- **クラス階層**: Hero → SuperHero / TrueHero
- **相互排他**: SuperHero ⇄ TrueHero の転職は不可
- **オブジェクト置き換え**: GameManagerでplayerインスタンスを管理
- **状態保存**: Heroのprotectedコピーコンストラクタで状態を継承

**なぜ継承を選んだか**:
- ルート固定が明確（SuperHeroとTrueHeroは別クラス）
- instanceof チェックで簡潔に判定可能
- 各職業専用の能力を独立して実装できる

**選択しなかった方法**:
- ❌ `jobTitle` 文字列管理: SuperHeroとTrueHeroの機能重複問題
- ❌ 単一Heroクラス: 飛行能力と転生システムの共存が複雑

### レベルアップ時のステータス上昇
- **Hero / SuperHero**: 最大HP・攻撃力は固定（HP全回復のみ）
- **TrueHero**: パッシブ成長あり
  - 計算式: `能力値 = 基礎値 × 1.1^(レベル-1)`
  - レベルアップ毎に攻撃力・HP上限が10%増加（複利）

### 経験値計算式
- レベルアップ必要経験値 = level × 3
- レベルアップ後は経験値リセット

### TrueHero転生システム
- **転生条件**: レベル10到達
- **転生効果**:
  - レベル1にリセット
  - 現在の最大HP・攻撃力を基礎値として継承
  - 転生回数カウント（★表示）
- **無限ループ**: 転生回数制限なし、無限に強化可能

### King戦闘システム
- KingはHumanを継承しているためEnemyではない
- BattleStateはCharacter型を受け入れる（Enemy + King）
- 経験値報酬はEnemyのみ（Kingは経験値を与えない）
- Kingは転職後の真のラスボス

## トラブルシューティング

### PowerShellでのエラー
`-D` パラメータは引用符で囲む必要がある:
- ❌ `java -Dfile.encoding=UTF-8 -cp bin com.rpg.GameWindow`
- ✅ `java "-Dfile.encoding=UTF-8" -cp bin com.rpg.GameWindow`

## プロジェクト状態

**完成度**: ✅ 完成（隠しルート追加）
**動作確認**: ✅ コンパイル成功、テスト待ち
**最終更新日**: 2025-11-19

### 実装済み機能
- ✅ 通常エンディング（魔王撃破）
- ✅ 隠しルート（レベル10到達 → 隠士出現）
- ✅ 転職システム（勇者 → 真勇者）
- ✅ 邪悪な王との最終決戦
- ✅ 結婚エンディング（真エンディング）
- ✅ Y/N選択肢システム
